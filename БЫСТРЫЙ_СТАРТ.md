#  MIRAI Единый Автономный Агент - Быстрый Старт

## Что это?

**MIRAI - Единый Автономный Агент** - это объединение ВСЕХ возможностей в одной программе:

-  **Управление компьютером** - мышь, клавиатура, скриншоты, OCR, Computer Vision
-  **Выполнение кода** - 8 языков (Python, JS, TS, C, C++, Go, Rust, Bash)
-  **Автоматизация браузера** - Playwright для работы с веб-сайтами
-  **Работа с БД** - SQLite, PostgreSQL, MongoDB, Redis
-  **GitHub интеграция** - репозитории, коммиты, PR, issues
-  **Веб-поиск** - DuckDuckGo для поиска информации
-  **Память и контекст** - RAG система с векторными embeddings
-  **Саморазвитие** - автоматическое улучшение собственного кода

**Один агент вместо десяти программ! Запускается через start_mirai.bat и работает автономно.**

## Установка за 2 минуты

### Вариант 1: Автоматический (рекомендуется)

Просто запусти:
```cmd
start_mirai.bat
```

Скрипт автоматически:
-  Проверит Python
-  Создаст виртуальное окружение
-  Установит все зависимости (100+ пакетов)
-  Проверит API ключи
-  Запустит unified_mirai.py

### Вариант 2: Ручной

```powershell
cd F:\Mirai\mirai-agent
python -m venv venv
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
python unified_mirai.py
```

## Конфигурация

### API ключи (обязательно)

Создай файл `configs/api_keys.json`:

```json
{
    "openai": "sk-proj-your-key-here"
}
```

## Использование

После запуска увидишь меню:

```
======================================================================
 МЕНЮ
======================================================================
1. Выполнить задачу
2. Автономный режим (MIRAI сам выбирает задачи)
3. Статус
4. Выход
```

### Режим 1: Выполнение задачи

Введи задачу на естественном языке:

- "Найди все файлы .py с TODO комментариями"
- "Создай скрипт для парсинга JSON"
- "Открой браузер и найди информацию про Python"
- "Сделай скриншот и найди на нём текст 'OK'"
- "Создай SQLite БД для хранения логов"
- "Закоммить все изменения в GitHub"

MIRAI сам решит, какие инструменты использовать!

### Режим 2: Автономный режим

MIRAI работает полностью автономно:
1. Анализирует проект
2. Выбирает задачи для улучшения
3. Выполняет их автоматически
4. Учится на результатах

### Режим 3: Статус

Показывает:
- Загруженные модули
- Текущую сессию памяти
- Статистику задач

## Возможности подробно

###  Управление компьютером (Desktop Agent)

MIRAI может:
- Перемещать мышь и кликать в любой точке экрана
- Вводить текст и нажимать клавиши
- Делать скриншоты
- Анализировать экран через GPT-4 Vision
- Находить текст через OCR (pytesseract)
- Искать элементы через OpenCV

**Примеры задач:**
- "Сделай скриншот и опиши, что на экране"
- "Найди кнопку Save и нажми на неё"
- "Прочитай текст из активного окна"

**Безопасность:**
- Максимум 60 кликов/минуту
- Максимум 300 нажатий клавиш/минуту
- Логирование всех действий

###  Выполнение кода (Multi-Language)

Поддерживаемые языки:
1. Python
2. JavaScript
3. TypeScript
4. C
5. C++
6. Go
7. Rust
8. Bash

**Примеры задач:**
- "Напиши Python скрипт для сортировки файлов по размеру"
- "Создай TypeScript функцию для валидации email"
- "Запусти bash команду для подсчёта строк кода"
- "Скомпилируй и запусти C++ программу для сортировки массива"

###  Браузер (Playwright)

MIRAI может:
- Открывать страницы
- Кликать элементы
- Заполнять формы
- Делать скриншоты страниц
- Ждать загрузки элементов

**Примеры задач:**
- "Открой Google и найди Python tutorials"
- "Зайди на GitHub и создай новый репозиторий"
- "Заполни форму на сайте данными из файла data.json"

**Установка браузера:**
```powershell
playwright install chromium
```

###  Базы данных

Поддержка:
- SQLite (встроенная)
- PostgreSQL
- MongoDB
- Redis

**Примеры задач:**
- "Создай SQLite БД с таблицей users (id, name, email)"
- "Добавь 10 записей в MongoDB коллекцию products"
- "Сделай SELECT из PostgreSQL с JOIN двух таблиц"
- "Сохрани данные в Redis с TTL 3600 секунд"

###  GitHub

MIRAI может:
- Создавать репозитории
- Коммитить изменения
- Создавать PR и issues
- Просматривать код
- Управлять ветками

**Примеры задач:**
- "Создай репозиторий test-project с README"
- "Закоммить все изменения с сообщением Update core modules"
- "Создать issue про баг в desktop_agent.py"
- "Сделать pull request в ветку dev"

**Настройка:**
Добавь GitHub token в `configs/api_keys.json`:
```json
{
    "openai": "sk-...",
    "github_token": "ghp_..."
}
```

###  Веб-поиск

Поиск через DuckDuckGo (без API ключей).

**Примеры задач:**
- "Найди последние новости про Python 3.13"
- "Найди документацию по FastAPI роутингу"
- "Поищи решение ошибки ModuleNotFoundError: No module named torch"

###  Память (RAG)

MIRAI помнит:
- Историю выполненных задач
- Результаты операций
- Важные факты о проекте
- Контекст текущей сессии

**Примеры:**
- "Что я делал в прошлой сессии?"
- "Запомни: API ключи хранятся в configs/api_keys.json"
- "Найди когда я последний раз работал с базой данных"

База: SQLite + FAISS для векторного поиска.

## Архитектура

```
unified_mirai.py (главный файл)
    
     Desktop Agent (desktop_agent_v2.py)
        PyAutoGUI (мышь, клавиатура)
        GPT-4 Vision (анализ скриншотов)
        pytesseract (OCR)
        OpenCV (поиск изображений)
    
     Code Executor (multi_language_executor.py)
        8 языков программирования
    
     Browser (browser_automation.py)
        Playwright
    
     Database (database_manager.py)
        SQLite, PostgreSQL, MongoDB, Redis
    
     GitHub (github_integration.py)
        GitHub API
    
     Web Search (web_search_integration.py)
        DuckDuckGo
    
     Memory (memory_manager.py)
        SQLite + FAISS Embeddings
    
     Self Evolution (self_evolution.py)
         Автоматическое улучшение кода
```

## Решение проблем

### ModuleNotFoundError

Убедись, что venv активирован и зависимости установлены:

```powershell
cd F:\Mirai\mirai-agent
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt --upgrade
```

### API key not found

Проверь файл `configs/api_keys.json`:

```json
{
    "openai": "sk-proj-..."
}
```

Ключ должен быть из OpenAI Platform (platform.openai.com).

### Chrome not found (Browser)

Установи Playwright браузеры:

```powershell
cd F:\Mirai\mirai-agent
.\venv\Scripts\Activate.ps1
playwright install chromium
```

### Encoding errors в консоли (тХФтХР...)

Это нормально для Windows PowerShell. Просто визуальная проблема с box-drawing символами. Функционал не нарушен.

Для лучшего отображения используй Windows Terminal.

### pytesseract не находит tesseract.exe

Установи Tesseract OCR:
1. Скачай: https://github.com/UB-Mannheim/tesseract/wiki
2. Установи
3. Добавь в PATH или укажи путь в коде

## Автозапуск Windows (опционально)

### Способ 1: Task Scheduler

1. Открой Task Scheduler (`Win + R`  `taskschd.msc`)
2. Create Basic Task
3. Имя: "MIRAI Autonomous Agent"
4. Trigger: At startup / At log on
5. Action: Start a program
6. Program: `F:\Mirai\start_mirai.bat`
7. Arguments: (оставь пустым для меню или добавь `/autonomous`)

### Способ 2: Startup папка

Создай ярлык `start_mirai.bat` и помести в:

```
C:\Users\[USER]\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup
```

Или нажми `Win + R`  `shell:startup`  вставь ярлык.

## Безопасность

 **ВНИМАНИЕ**: MIRAI может управлять твоим компьютером!

**Встроенные ограничения:**
- Rate limiting (60 кликов/мин, 300 нажатий/мин)
- Логирование всех действий в `mirai.log`
- Изоляция выполнения кода (опционально через Docker)

**Рекомендации:**
1. Запускай в тестовой среде при первом использовании
2. Проверяй задачи перед автономным режимом
3. Следи за логами в реальном времени
4. Используй git для версионирования изменений
5. Не давай доступ к критичным системным операциям

## Следующие шаги

### 1. Протестируй базовые функции

```
Запусти MIRAI  Режим 1  Введи:
"Найди все Python файлы в текущей директории"
```

### 2. Попробуй автономный режим

```
Запусти MIRAI  Режим 2  Наблюдай 5 минут
```

### 3. Настрой интеграции

- GitHub token для коммитов
- PostgreSQL/MongoDB для production БД
- Playwright для веб-автоматизации

### 4. Изучи документацию

- `UNIFIED_MIRAI.md` - полное описание архитектуры
- `DESKTOP_AGENT.md` - управление компьютером
- `.github/copilot-instructions.md` - для разработчиков

### 5. Начни использовать

**Примеры задач для начала:**

1. "Найди все TODO в коде и создай список задач"
2. "Проанализируй структуру проекта и создай документацию"
3. "Найди в интернете лучшие практики для Python проектов"
4. "Создай SQLite БД для хранения метрик производительности"
5. "Сделай скриншот текущего экрана и опиши его"

## Логи и отладка

### Основной лог

```
F:\Mirai\mirai-agent\mirai.log
```

Содержит все действия агента с timestamp.

### Просмотр в реальном времени (PowerShell)

```powershell
Get-Content F:\Mirai\mirai-agent\mirai.log -Wait -Tail 50
```

### Метрики

```
F:\Mirai\mirai-agent\data\mirai_memory.db
```

SQLite база с историей задач, результатами, embedding'ами.

## Производительность

### Рекомендуемые ресурсы

- **CPU**: 4+ ядра
- **RAM**: 8+ GB (16 GB для больших моделей)
- **GPU**: Опционально для Computer Vision
- **Диск**: 10+ GB свободного места

### Оптимизация

1. **Для быстрых ответов**: используй GPT-4o-mini
2. **Для точности**: используй GPT-4o
3. **Для локальной работы**: установи Ollama + mistral:7b
4. **Для CV задач**: установи CUDA для PyTorch

## Лицензия и поддержка

### Лицензия

См. файл `LICENSE` в корне проекта.

### Поддержка

- **Issues**: Создай issue на GitHub (github.com/AgeeKey/Mirai)
- **Логи**: Проверь `mirai.log` для диагностики
- **Документация**: Markdown файлы в корне проекта

### Контрибьютинг

Pull requests приветствуются! См. `CONTRIBUTING.md`.

---

**Создано**: 2025
**Версия**: 1.0.0  
**Статус**:  Ready for Production

 **MIRAI готов помогать!**

---

## FAQ

**Q: Работает ли MIRAI без интернета?**  
A: Частично. Для OpenAI API нужен интернет. Но можно использовать локальную Ollama модель.

**Q: Безопасно ли давать MIRAI управление компьютером?**  
A: Есть rate limiting и логирование. Но тестируй сначала в безопасной среде.

**Q: Можно ли использовать в production?**  
A: Да, но с осторожностью. Рекомендуется мониторинг и review действий.

**Q: Нужен ли Docker?**  
A: Нет, опционально. Docker нужен только для изолированного выполнения кода.

**Q: Сколько стоит OpenAI API?**  
A: GPT-4o-mini ~$0.15/1M tokens. Для большинства задач <$1/день.

**Q: Можно ли добавить свои инструменты?**  
A: Да! См. документацию в `UNIFIED_MIRAI.md` раздел "Расширение функционала".
