#!/bin/bash

# ðŸ§ª Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸ GitHub Copilot

echo "ðŸ” === ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ ÐÐ’Ð¢ÐžÐœÐÐ¢Ð˜Ð—ÐÐ¦Ð˜Ð˜ GITHUB COPILOT ==="
echo ""

# 1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ð¹
echo "ðŸ“¦ 1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ð¹ Copilot:"
if code --list-extensions | grep -q "github.copilot"; then
    echo "   âœ… GitHub Copilot ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"
else
    echo "   âŒ GitHub Copilot ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"
fi

if code --list-extensions | grep -q "github.copilot-chat"; then
    echo "   âœ… GitHub Copilot Chat ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"
else
    echo "   âŒ GitHub Copilot Chat ÐÐ• ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½"
fi

# 2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
echo ""
echo "ðŸ”§ 2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ„Ð°Ð¹Ð»Ð¾Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸:"
if [ -f ".vscode/settings.json" ]; then
    echo "   âœ… settings.json ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚"
else
    echo "   âŒ settings.json Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"
fi

if [ -f ".vscode/keybindings.json" ]; then
    echo "   âœ… keybindings.json ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚"
else
    echo "   âŒ keybindings.json Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"
fi

if [ -f ".vscode/tasks.json" ]; then
    echo "   âœ… tasks.json ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚"
else
    echo "   âŒ tasks.json Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"
fi

# 3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸
echo ""
echo "âš™ï¸  3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸:"
if grep -q '"chat.tools.global.autoApprove": true' .vscode/settings.json 2>/dev/null; then
    echo "   âœ… Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð°Ð²Ñ‚Ð¾ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾"
else
    echo "   âŒ Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð°Ð²Ñ‚Ð¾ÑƒÑ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾"
fi

if grep -q '"github.copilot.editor.enableAutoCompletions": true' .vscode/settings.json 2>/dev/null; then
    echo "   âœ… ÐÐ²Ñ‚Ð¾Ð´Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Copilot Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹"
else
    echo "   âŒ ÐÐ²Ñ‚Ð¾Ð´Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Copilot Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹"
fi

if grep -q '"files.autoSave"' .vscode/settings.json 2>/dev/null; then
    echo "   âœ… ÐÐ²Ñ‚Ð¾ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¾"
else
    echo "   âŒ ÐÐ²Ñ‚Ð¾ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¾"
fi

# 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²
echo ""
echo "ðŸ”„ 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¾Ð²:"
if crontab -l 2>/dev/null | grep -q "auto_commit.sh"; then
    echo "   âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹ Ð² cron"
else
    echo "   âŒ ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹ ÐÐ• Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹ Ð² cron"
fi

if [ -f ".vscode/auto_commit.sh" ]; then
    echo "   âœ… Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð° ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚"
else
    echo "   âŒ Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð° Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"
fi

# 5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° Git
echo ""
echo "ðŸ“‹ 5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° Git:"
if git status &>/dev/null; then
    echo "   âœ… Git Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½"
    if [ -n "$(git status --porcelain)" ]; then
        echo "   ðŸ“ Ð•ÑÑ‚ÑŒ Ð½Ðµcommited Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ"
    else
        echo "   âœ… Ð’ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð·Ð°ÐºÐ¾Ð¼Ð¼Ð¸Ñ‡ÐµÐ½Ñ‹"
    fi
else
    echo "   âŒ Git Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ ÐÐ• Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½"
fi

# 6. Ð¢ÐµÑÑ‚ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð°
echo ""
echo "ðŸ§ª 6. Ð¢ÐµÑÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð°:"
cat > test_auto_file.py << 'EOF'
# Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ð¸
def hello_copilot():
    return "Hello from automated Copilot!"
EOF

if [ -f "test_auto_file.py" ]; then
    echo "   âœ… Ð¤Ð°Ð¹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾"
    rm test_auto_file.py
else
    echo "   âŒ ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð°"
fi

# 7. Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð°Ñ‚ÑƒÑ
echo ""
echo "ðŸŽ¯ === Ð˜Ð¢ÐžÐ“ÐžÐ’Ð«Ð™ Ð¡Ð¢ÐÐ¢Ð£Ð¡ ==="
if code --list-extensions | grep -q "github.copilot" && [ -f ".vscode/settings.json" ]; then
    echo "ðŸŽ‰ ÐÐ’Ð¢ÐžÐœÐÐ¢Ð˜Ð—ÐÐ¦Ð˜Ð¯ Ð“ÐžÐ¢ÐžÐ’Ð Ðš Ð ÐÐ‘ÐžÐ¢Ð•!"
    echo ""
    echo "ðŸ’¡ Ð§Ñ‚Ð¾ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:"
    echo "   â€¢ ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ÐºÐ¾Ð´Ð° Ð¿Ñ€Ð¸ Ð½Ð°Ð±Ð¾Ñ€Ðµ"
    echo "   â€¢ ÐÐ²Ñ‚Ð¾ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð²"
    echo "   â€¢ ÐÐ²Ñ‚Ð¾Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¸"
    echo "   â€¢ ÐÐ²Ñ‚Ð¾ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 5 Ð¼Ð¸Ð½ÑƒÑ‚"
    echo "   â€¢ Ð“Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ñ… Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹"
    echo ""
    echo "ðŸŽ® Ð“Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸:"
    echo "   Ctrl+Shift+Space - Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð´Ð°"
    echo "   Tab              - ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"
    echo "   Alt+]            - Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ"
    echo "   Ctrl+Alt+F       - ÐÐ²Ñ‚Ð¾Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ"
else
    echo "âš ï¸  Ð¢Ð Ð•Ð‘Ð£Ð•Ð¢Ð¡Ð¯ Ð”ÐžÐŸÐžÐ›ÐÐ˜Ð¢Ð•Ð›Ð¬ÐÐÐ¯ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ"
fi

echo ""
echo "ðŸ“Š ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°: $(date)"