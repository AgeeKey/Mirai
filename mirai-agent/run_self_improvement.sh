#!/bin/bash
# MIRAI - –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ —Å–∞–º–æ—É–ª—É—á—à–µ–Ω–∏—è

echo "üîß MIRAI - –†–ï–ñ–ò–ú –°–ê–ú–û–£–õ–£–ß–®–ï–ù–ò–Ø"
echo "================================"
echo ""
echo "–ê–≥–µ–Ω—Ç –±—É–¥–µ—Ç –°–ê–ú —Ä–µ—à–∞—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–±–ª–µ–º—ã:"
echo "  1. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞"
echo "  2. üìù –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"
echo "  3. üìä –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
echo "  4. üìö –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"
echo "  5. üß™ –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤"
echo "  6. üîí –£–ª—É—á—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
echo "  7. ‚ö° –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏"
echo "  8. üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD"
echo ""
echo "================================"

cd /root/mirai/mirai-agent

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
if [ -d "venv" ]; then
    source venv/bin/activate
else
    echo "‚ùå –û—à–∏–±–∫–∞: venv –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
if [ -f ".env" ]; then
    export $(cat .env | grep -v '^#' | xargs)
else
    echo "‚ùå –û—à–∏–±–∫–∞: .env –Ω–µ –Ω–∞–π–¥–µ–Ω"
    exit 1
fi

echo "‚úÖ –û–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ"
echo ""
echo "üöÄ –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ —Å–∞–º–æ—É–ª—É—á—à–µ–Ω–∏—è..."
echo "üìù –õ–æ–≥–∏: /tmp/mirai_self_improvement.log"
echo ""
echo "‚è∞ –≠—Ç–æ –∑–∞–π–º–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 4-5 –º–∏–Ω—É—Ç"
echo "   (8 –∑–∞–¥–∞—á √ó 30 —Å–µ–∫ –ø–∞—É–∑—ã)"
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º —Ä–µ–∂–∏–º —Å–∞–º–æ—É–ª—É—á—à–µ–Ω–∏—è
python3 self_improvement.py

echo ""
echo "================================"
echo "‚úÖ –°–∞–º–æ—É–ª—É—á—à–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
echo ""
echo "üìÑ –û—Ç—á–µ—Ç: /root/mirai/mirai-agent/self_improvement_report.md"
echo "üìù –õ–æ–≥–∏: /tmp/mirai_self_improvement.log"
echo ""
echo "üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–æ–∑–¥–∞–ª –∞–≥–µ–Ω—Ç:"
echo "   ls -la core/validation.py"
echo "   ls -la core/advanced_logger.py"
echo "   ls -la utils/monitoring.py"
echo "   ls -la tests/"
