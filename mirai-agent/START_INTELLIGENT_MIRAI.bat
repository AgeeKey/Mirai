@echo off
chcp 65001 >nul
echo.
echo ╔══════════════════════════════════════════════════════════════════════╗
echo ║  🧠 MIRAI INTELLIGENT AUTONOMOUS DESKTOP MODE V2                    ║
echo ║                                                                      ║
echo ║  НОВАЯ ВЕРСИЯ С НАСТОЯЩИМ ИНТЕЛЛЕКТОМ!                             ║
echo ╚══════════════════════════════════════════════════════════════════════╝
echo.
echo  🎯 ЧТО НОВОГО В V2:
echo  ═══════════════════
echo  ✅ Vision анализ КАЖДОГО шага - понимает контекст
echo  ✅ Умная работа с браузером - выбор профилей, обход рекламы
echo  ✅ Умная печать - НЕ в терминал, а в правильные места
echo  ✅ Память контекста - помнит что делал, учится на ошибках
echo  ✅ Проверка результатов - после каждого действия
echo  ✅ Человеческий подход - как бы делал человек
echo.
echo  🔄 ЦИКЛ РАБОТЫ:
echo  ═══════════════
echo  1. 📸 Vision анализ → Понимание ситуации
echo  2. 🤔 AI решение → Что делать с учётом контекста
echo  3. 📋 Умное планирование → Детальные шаги с проверками
echo  4. ⚡ Выполнение → Vision контроль каждого шага
echo  5. ✅ Проверка → Получилось ли? Чему научились?
echo.
echo ⚠️  ВНИМАНИЕ: MIRAI получит ПОЛНЫЙ контроль над компьютером
echo ⚠️  V2 работает УМНЕЕ - анализирует перед действием
echo.
echo 🛑 Для остановки нажмите Ctrl+C в терминале
echo.
pause

echo.
echo 🔧 Активирую виртуальное окружение...
cd /d "%~dp0"
call venv\Scripts\activate.bat

if errorlevel 1 (
    echo ❌ Ошибка активации venv!
    echo 💡 Создаю новое окружение...
    python -m venv venv
    call venv\Scripts\activate.bat
)

echo.
echo 📦 Проверяю зависимости...
python -c "import pyautogui, openai, PIL" 2>nul
if errorlevel 1 (
    echo 💡 Устанавливаю недостающие библиотеки...
    pip install pyautogui openai pillow -q
)

echo.
echo.
echo ╔══════════════════════════════════════════════════════════════════════╗
echo ║  🚀 ЗАПУСК MIRAI INTELLIGENT AGENT V2                               ║
echo ╚══════════════════════════════════════════════════════════════════════╝
echo.

python autonomous_desktop_v2.py

pause
