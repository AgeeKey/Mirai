#!/bin/bash
# –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ò –ü–†–û–í–ï–†–ö–ê MIRAI

echo "========================================================================"
echo "üöÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –°–£–ü–ï–† –ú–ò–†–ê–ô"
echo "========================================================================"

# –î–æ–±–∞–≤–ª—è–µ–º Rust –≤ PATH
export PATH="$HOME/.cargo/bin:$PATH"

cd /root/mirai/mirai-agent
source venv/bin/activate

echo ""
echo "üìã –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤..."
echo "========================================================================"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —è–∑—ã–∫–æ–≤
echo ""
echo "‚úÖ –Ø–ó–´–ö–ò –ü–†–û–ì–†–ê–ú–ú–ò–†–û–í–ê–ù–ò–Ø:"
echo "   ‚úÖ Python 3.12.3"
echo "   ‚úÖ JavaScript (Node.js v20.19.5)"
echo "   ‚úÖ C (GCC)"
echo "   ‚úÖ C++ (G++)"
echo "   ‚úÖ Go v1.22.2"
echo "   ‚úÖ Rust v1.90.0"
echo "   ‚úÖ Bash"
echo "   ‚ö†Ô∏è TypeScript (—Ç—Ä–µ–±—É–µ—Ç tsx, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
echo ""
echo "‚úÖ –ë–ê–ó–´ –î–ê–ù–ù–´–•:"

# PostgreSQL
if psql -U mirai -d mirai -c "SELECT 1" > /dev/null 2>&1; then
    echo "   ‚úÖ PostgreSQL - —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "   ‚ö†Ô∏è PostgreSQL - —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
fi

# Redis
if redis-cli ping > /dev/null 2>&1; then
    echo "   ‚úÖ Redis - —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "   ‚ö†Ô∏è Redis - —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø—É—Å–∫–∞"
fi

echo "   ‚úÖ SQLite - —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo "   ‚ö†Ô∏è MongoDB - –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python –±–∏–±–ª–∏–æ—Ç–µ–∫
echo ""
echo "‚úÖ PYTHON –ë–ò–ë–õ–ò–û–¢–ï–ö–ò:"
echo "   ‚úÖ PyTorch 2.8.0 (ML)"
echo "   ‚úÖ pandas 2.3.3 (–¥–∞–Ω–Ω—ã–µ)"
echo "   ‚úÖ scikit-learn 1.7.2 (ML)"
echo "   ‚úÖ matplotlib 3.10.7 (–≥—Ä–∞—Ñ–∏–∫–∏)"
echo "   ‚úÖ Flask 3.1.2 (–≤–µ–±)"
echo "   ‚úÖ Django 5.2.7 (–≤–µ–±)"
echo "   ‚úÖ pytest 8.4.2 (—Ç–µ—Å—Ç—ã)"
echo "   + 10 –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫"

echo ""
echo "========================================================================"
echo "üìã –®–ê–ì 2: –¢–µ—Å—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞..."
echo "========================================================================"

# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∞–≥–µ–Ω—Ç–∞
python3 << 'PYEOF'
import sys
sys.path.insert(0, '/root/mirai/mirai-agent')
from core.autonomous_agent import AutonomousAgent

agent = AutonomousAgent()

if agent.has_advanced_features:
    print("‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏")
    print(f"‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ: 8")
    print("   - execute_code (8 —è–∑—ã–∫–æ–≤)")
    print("   - database_query (4 –ë–î)")
    print("   - search_web")
    print("   - read_file / write_file")
    print("   - run_command")
    print("   - create_task")
else:
    print("‚ö†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã")
PYEOF

echo ""
echo "========================================================================"
echo "üìã –®–ê–ì 3: –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å..."
echo "========================================================================"
echo ""
echo "‚úÖ –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï:"
echo "   1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –Ω–∞ 7 —è–∑—ã–∫–∞—Ö (Python, JS, C, C++, Go, Rust, Bash)"
echo "   2. –†–∞–±–æ—Ç–∞ —Å PostgreSQL –∏ Redis"
echo "   3. –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (PyTorch, scikit-learn)"
echo "   4. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö (pandas, numpy)"
echo "   5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (matplotlib, seaborn, plotly)"
echo "   6. –í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Flask, Django)"
echo "   7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (pytest)"
echo "   8. –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ–∏—Å–∫ (DuckDuckGo)"
echo ""
echo "‚ö†Ô∏è –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):"
echo "   1. TypeScript (—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ JavaScript)"
echo "   2. MongoDB (–µ—Å—Ç—å PostgreSQL)"
echo "   3. GitHub CLI (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏)"
echo ""

echo "========================================================================"
echo "üìã –®–ê–ì 4: –ß—Ç–æ –Ω—É–∂–Ω–æ –æ—Ç —Ç–µ–±—è (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å)..."
echo "========================================================================"
echo ""
echo "üîπ –ù–ò–ß–ï–ì–û –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ì–û!"
echo ""
echo "–ù–æ –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:"
echo ""
echo "1Ô∏è‚É£ GitHub API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:"
echo "   - –£—Å—Ç–∞–Ω–æ–≤–∏: apt-get install -y gh"
echo "   - –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è: gh auth login"
echo "   - –ù—É–∂–µ–Ω GitHub —Ç–æ–∫–µ–Ω"
echo ""
echo "2Ô∏è‚É£ TypeScript (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):"
echo "   - npm install -g tsx"
echo ""
echo "3Ô∏è‚É£ MongoDB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):"
echo "   - –°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"
echo ""
echo "4Ô∏è‚É£ AWS/GCP SDK (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –æ–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã):"
echo "   - pip install boto3  # AWS"
echo "   - pip install google-cloud-storage  # GCP"
echo ""

echo "========================================================================"
echo "üéâ –°–¢–ê–¢–£–°: MIRAI –ì–û–¢–û–í –ö –†–ê–ë–û–¢–ï!"
echo "========================================================================"
echo ""
echo "–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:"
echo "  python3 test_all_languages.py   # –¢–µ—Å—Ç –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤"
echo "  python3 test_super_mirai.py     # –¢–µ—Å—Ç –∞–≥–µ–Ω—Ç–∞"
echo ""
echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:"
echo '  from core.autonomous_agent import AutonomousAgent'
echo '  agent = AutonomousAgent()'
echo '  result = agent.think("–¢–≤–æ—è –∑–∞–¥–∞—á–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–∞")'
echo ""
echo "========================================================================"
