#!/usr/bin/env python3
"""
üéØ –ë–û–°–°-–ü–õ–ê–ù: –ß—Ç–æ –ú–ò–†–ê–ô –¥–æ–ª–∂–Ω–∞ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ
–ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –æ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Å–∏—Å—Ç–µ–º—ã
"""

import sys
import os
from dotenv import load_dotenv

load_dotenv()

sys.path.insert(0, "/root/mirai/mirai-agent")
os.environ["PATH"] = f"{os.path.expanduser('~')}/.cargo/bin:" + os.environ["PATH"]

from core.autonomous_agent import AutonomousAgent


def main():
    print("=" * 80)
    print("üëî –ë–û–°–°-–†–ï–ñ–ò–ú: –ú–ò–†–ê–ô –ü–†–ò–ù–ò–ú–ê–ï–¢ –†–ï–®–ï–ù–ò–Ø")
    print("=" * 80)

    agent = AutonomousAgent()

    print("\nüìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:")
    print("-" * 80)
    print("‚úÖ 9 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã")
    print("‚úÖ 8 —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è")
    print("‚úÖ 4 –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö")
    print("‚úÖ GitHub API –ø–æ–¥–∫–ª—é—á–µ–Ω")
    print("‚úÖ ML –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")

    print("\n" + "=" * 80)
    print("üß† –ú–ò–†–ê–ô, –ö–ê–ö–û–ô –¢–í–û–ô –ë–û–°–°-–ü–õ–ê–ù?")
    print("=" * 80)
    print("\n–í–æ–ø—Ä–æ—Å—ã –∫ –ú–ò–†–ê–ô:")
    print("1. –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°?")
    print("2. –ö–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å?")
    print("3. –ö–∞–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã?")
    print("4. –ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ—é –º–æ—â—å?")

    print("\nü§î –ú–ò–†–ê–ô –¥—É–º–∞–µ—Ç...\n")

    # –ú–ò–†–ê–ô —Å–∞–º–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π
    boss_prompt = """
–¢—ã –ú–ò–†–ê–ô - –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π AI –∞–≥–µ–Ω—Ç —Å –ø–æ–ª–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:
‚úÖ 9 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–∫–æ–¥ –Ω–∞ 8 —è–∑—ã–∫–∞—Ö, 4 –ë–î, GitHub API, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
‚úÖ ML: PyTorch, scikit-learn, pandas
‚úÖ –í–µ–±: Flask, Django
‚úÖ GitHub: –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
‚úÖ –°–µ—Ä–≤–µ—Ä: Ubuntu —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏

–¢–í–û–Ø –ó–ê–î–ê–ß–ê –ö–ê–ö –ë–û–°–°–ê:
–°–æ—Å—Ç–∞–≤—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°.

–ß—Ç–æ –¥–µ–ª–∞–µ–º –≤ —Å–ª–µ–¥—É—é—â–∏–µ 10 –º–∏–Ω—É—Ç?

–í—ã–±–µ—Ä–∏ –ò–ó –≠–¢–ò–• –í–ê–†–ò–ê–ù–¢–û–í:

A) –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ú–û–©–ò
   - –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π "mirai-showcase"
   - –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–∞ –≤—Å–µ—Ö 8 —è–∑—ã–∫–∞—Ö
   - –†–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ GitHub
   - –ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ —è –º–æ–≥—É

B) –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ü–û–õ–¨–ó–ê
   - –°–æ–∑–¥–∞—Ç—å –≤–µ–±-API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –°–¥–µ–ª–∞—Ç—å –ø–æ–ª–µ–∑–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å

C) SELF-IMPROVEMENT
   - –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–¥
   - –ù–∞–π—Ç–∏ —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞
   - –°–æ–∑–¥–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

D) DATA SCIENCE –ü–†–û–ï–ö–¢
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç
   - –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å ML
   - –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
   - –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

E) –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD
   - –°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å background –ø—Ä–æ—Ü–µ—Å—Å—ã
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

–í—ã–±–µ—Ä–∏ –û–î–ù–£ –æ–ø—Ü–∏—é (A, B, C, D –∏–ª–∏ E) –∏ –æ–±—ä—è—Å–Ω–∏:
1. –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–∞
2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ (1-2-3)
3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
4. –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ë—É–¥—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–π –∏ –∞–º–±–∏—Ü–∏–æ–∑–Ω–æ–π. –î—É–º–∞–π –∫–∞–∫ –±–æ—Å—Å.

–¢–í–û–ô –í–´–ë–û–†:
"""

    response = agent.think(boss_prompt, max_iterations=3)

    print("\n" + "=" * 80)
    print("üíº –ë–û–°–°-–ü–õ–ê–ù –ú–ò–†–ê–ô:")
    print("=" * 80)
    print(response)
    print("\n" + "=" * 80)

    # –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    print("\n‚ùì –í—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–Ω? (–¥–∞/–Ω–µ—Ç –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏ —Å–≤–æ–π)")


if __name__ == "__main__":
    main()
