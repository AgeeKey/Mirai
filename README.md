# üß† MIRAI - Intelligent Autonomous Desktop Agent

[![Python 3.13](https://img.shields.io/badge/python-3.13-blue.svg)](https://www.python.org/downloads/)
[![OpenAI GPT-4o](https://img.shields.io/badge/OpenAI-GPT--4o%20%2B%20Vision-green.svg)](https://openai.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-V2%20INTELLIGENT-success.svg)]()
[![Version](https://img.shields.io/badge/version-2.0-orange.svg)]()

**MIRAI** (Êú™Êù•, "Future") - **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π AI –∞–≥–µ–Ω—Ç —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º, —Å–∞–º–æ—Ä–∞–∑–≤–∏—Ç–∏—è –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á.

> üß† **V2 –ü–†–û–†–´–í**: Vision –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ ‚Ä¢ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Ä¢ –£–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º ‚Ä¢ –ü–∞–º—è—Ç—å –∏ –æ–±—É—á–µ–Ω–∏–µ

---

## üéØ –ß–¢–û –¢–ê–ö–û–ï MIRAI V2?

**MIRAI V2** - —ç—Ç–æ **–Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä–∏–ø—Ç**, –∞ **—É–º–Ω—ã–π AI –∞–≥–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π:

- üëÅÔ∏è **–í–ò–î–ò–¢** —ç–∫—Ä–∞–Ω —á–µ—Ä–µ–∑ GPT-4 Vision –∏ **–ü–û–ù–ò–ú–ê–ï–¢** –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ü§î **–î–£–ú–ê–ï–¢** –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º
- ‚ö° **–î–ï–ô–°–¢–í–£–ï–¢** –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫ (–≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª–∏ Chrome, –æ–±—Ö–æ–¥–∏—Ç —Ä–µ–∫–ª–∞–º—É)
- ‚úÖ **–ü–†–û–í–ï–†–Ø–ï–¢** —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
- üíæ **–ü–û–ú–ù–ò–¢** –≤—Å—ë –∏ **–£–ß–ò–¢–°–Ø** –Ω–∞ –æ–ø—ã—Ç–µ
- üîÑ **–†–ê–ë–û–¢–ê–ï–¢** –∞–≤—Ç–æ–Ω–æ–º–Ω–æ 24/7

### –û—Ç–ª–∏—á–∏—è –æ—Ç –æ–±—ã—á–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π:

| –û–±—ã—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç | MIRAI V2 |
|----------------|----------|
| ‚ùå –°–ª–µ–ø–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã | ‚úÖ –í–∏–¥–∏—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω |
| ‚ùå –ù–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç | ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é (–ø—Ä–æ—Ñ–∏–ª–∏, —Ä–µ–∫–ª–∞–º–∞) |
| ‚ùå –ü–µ—á–∞—Ç–∞–µ—Ç –∫—É–¥–∞ –ø–æ–ø–∞–ª–æ | ‚úÖ Vision –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ |
| ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç | ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è |
| ‚ùå –ù–µ—Ç –ø–∞–º—è—Ç–∏ | ‚úÖ –ü–æ–º–Ω–∏—Ç –≤—Å—ë, —É—á–∏—Ç—Å—è –Ω–∞ –æ—à–∏–±–∫–∞—Ö |

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ò—Å—Ç–æ—Ä–∏—è: V1 ‚Üí V2](#-–∏—Å—Ç–æ—Ä–∏—è-v1--v2)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ V2](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-v2)
- [5 –ö–ª—é—á–µ–≤—ã—Ö –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#-5-–∫–ª—é—á–µ–≤—ã—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [–ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç Vision](#-–∫–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-vision)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ó–∞—â–∏—Ç–∞](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-–∑–∞—â–∏—Ç–∞)
- [–ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ V1 vs V2](#-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-v1-vs-v2)
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üìú –ò—Å—Ç–æ—Ä–∏—è: V1 ‚Üí V2

### ‚ùå V1 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ü—Ä–æ–≤–∞–ª

**–ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫:**

- **–°–ª–µ–ø–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –ü–µ—á–∞—Ç–∞–ª –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤
- **–ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –ù–µ –≤–∏–¥–µ–ª –¥–∏–∞–ª–æ–≥–∏ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è Chrome
- **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –ø—Ä–æ–±–ª–µ–º—ã**: –ù–µ –∑–∞–º–µ—á–∞–ª —Ä–µ–∫–ª–∞–º—É –∏ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞
- **–ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–Ω–∏–º–∞–ª, —Å—Ä–∞–±–æ—Ç–∞–ª–æ –¥–µ–π—Å—Ç–≤–∏–µ –∏–ª–∏ –Ω–µ—Ç
- **–í—ã–∑–≤–∞–ª –∫—Ä–∞—à —Å–∏—Å—Ç–µ–º—ã**: 6 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python —Ä–∞–±–æ—Ç–∞–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ‚Üí —á—ë—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω ‚Üí –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞

**–û—Ü–µ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 1/10** ‚≠ê

### ‚úÖ V2 - –ü—Ä–æ—Ä—ã–≤ —Å Vision Intelligence

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:**

‚úÖ **–í–∏–¥–∏—Ç —ç–∫—Ä–∞–Ω** —á–µ—Ä–µ–∑ GPT-4 Vision –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–π—Å—Ç–≤–∏–µ–º  
‚úÖ **–ü–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç** (–ø—Ä–æ—Ñ–∏–ª–∏, —Ä–µ–∫–ª–∞–º–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)  
‚úÖ **–£–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Chrome** (–≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è, –æ–±—Ö–æ–¥ —Ä–µ–∫–ª–∞–º—ã)  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ —á–µ—Ä–µ–∑ Vision)  
‚úÖ **–ü–∞–º—è—Ç—å –∏ –æ–±—É—á–µ–Ω–∏–µ** (–ø–æ–º–Ω–∏—Ç –æ—à–∏–±–∫–∏, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —É—Ä–æ–∫–∏)  
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** (FAILSAFE, –ª–∏–º–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π, –∞–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–≥–µ–Ω—Ç —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º** üß†

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ V2

```plaintext
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    MIRAI V2 - Intelligent Desktop Agent             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ autonomous_desktop_v2.py ‚îÇ
                    ‚îÇ  IntelligentMiraiAgent   ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ           ‚îÇ            ‚îÇ            ‚îÇ           ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Vision  ‚îÇ ‚îÇ Context ‚îÇ ‚îÇ  Smart   ‚îÇ ‚îÇ  Smart   ‚îÇ ‚îÇ OpenAI ‚îÇ
   ‚îÇ  Tools  ‚îÇ ‚îÇ Manager ‚îÇ ‚îÇ Desktop  ‚îÇ ‚îÇ Browser  ‚îÇ ‚îÇGPT-4o  ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ
   GPT-4 Vision  Memory      pyautogui    Chrome      Decisions
   –ê–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞  –ò—Å—Ç–æ—Ä–∏—è    –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞   –ü—Ä–æ—Ñ–∏–ª–∏     –ó–∞–¥–∞—á–∏
```

### –¶–∏–∫–ª –†–∞–±–æ—Ç—ã –ê–≥–µ–Ω—Ç–∞

```plaintext
1Ô∏è‚É£ ANALYZE (–ê–Ω–∞–ª–∏–∑)
   ‚îî‚îÄ> Vision –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç + GPT-4 Vision –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é

2Ô∏è‚É£ CHOOSE (–í—ã–±–æ—Ä –ó–∞–¥–∞—á–∏)
   ‚îî‚îÄ> GPT-4o —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

3Ô∏è‚É£ PLAN (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
   ‚îî‚îÄ> –°–æ–∑–¥–∞—ë—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º)

4Ô∏è‚É£ EXECUTE (–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
   ‚îî‚îÄ> –ö–∞–∂–¥—ã–π —à–∞–≥: Vision ‚Üí –î–µ–π—Å—Ç–≤–∏–µ ‚Üí Vision –ø—Ä–æ–≤–µ—Ä–∫–∞

5Ô∏è‚É£ LEARN (–û–±—É—á–µ–Ω–∏–µ)
   ‚îî‚îÄ> –ò–∑–≤–ª–µ–∫–∞–µ—Ç —É—Ä–æ–∫–∏ –∏–∑ —Ü–∏–∫–ª–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø–∞–º—è—Ç—å

   [–ü–∞—É–∑–∞ 60 —Å–µ–∫—É–Ω–¥]

   ‚Üª –ü–æ–≤—Ç–æ—Ä —Ü–∏–∫–ª–∞ (–º–∞–∫—Å 10 –¥–µ–π—Å—Ç–≤–∏–π –∑–∞ —Ü–∏–∫–ª)
```

---

## üîß 5 –ö–ª—é—á–µ–≤—ã—Ö –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1Ô∏è‚É£ vision_tools.py - –ì–ª–∞–∑–∞ –ê–≥–µ–Ω—Ç–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è GPT-4 Vision –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
# –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞
context = vision_tools.analyze_screen_context(
    screenshot="vision_20251024.png",
    question="–ö–∞–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã?"
)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: scene_description, detected_elements, ui_state, recommendations

# –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
location = vision_tools.find_element_on_screen(
    screenshot="screen.png",
    element_description="–ö–Ω–æ–ø–∫–∞ '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å'"
)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: type, label, location (–≤–µ—Ä—Ö-–ª–µ–≤–æ, —Ü–µ–Ω—Ç—Ä –∏ —Ç.–¥.)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—è
result = vision_tools.verify_action_result(
    before_screenshot="before.png",
    after_screenshot="after.png",
    expected_action="–û—Ç–∫—Ä—ã–ª –ë–ª–æ–∫–Ω–æ—Ç"
)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: success=True/False, changes_detected, description

# –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
problems = vision_tools.detect_problems(screenshot="screen.png")
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: has_problems, problem_types [ads, errors, popups]
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** OpenAI Vision API, base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, JSON –ø–∞—Ä—Å–∏–Ω–≥

---

### 2Ô∏è‚É£ context_manager.py - –ü–∞–º—è—Ç—å –ê–≥–µ–Ω—Ç–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π, —Å–æ—Å—Ç–æ—è–Ω–∏–π, –ø—Ä–æ–±–ª–µ–º

**–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**

```python
@dataclass
class ActionRecord:
    timestamp: str
    action_type: str  # "open_app", "type_text", "click", "browser"
    description: str
    status: ActionStatus  # SUCCESS, FAILED, PARTIAL, SKIPPED
    problems_found: List[str]
    screenshot_before: str
    screenshot_after: str

@dataclass  
class ApplicationState:
    name: str
    is_open: bool
    last_action: str
    success_rate: float

@dataclass
class BrowserState:
    profile_name: str
    current_url: str
    ads_encountered: int
    popups_closed: int
```

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
# –ó–∞–ø–∏—Å–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
context.record_action(
    action_type="type_text",
    description="–ù–∞–ø–µ—á–∞—Ç–∞–ª 'Hello'",
    status=ActionStatus.SUCCESS
)

# –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
context.update_browser_state(
    profile="Work", 
    url="google.com",
    ads_closed=2
)

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë –≤ JSON
context.save_to_file("context_20251024.json")

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
stats = context.get_statistics()
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: total_actions, success_rate, problems_count, apps_used
```

---

### 3Ô∏è‚É£ smart_browser_agent.py - –£–º–Ω–∞—è –†–∞–±–æ—Ç–∞ —Å Chrome

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Chrome —Å –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º –ø—Ä–æ—Ñ–∏–ª–µ–π, —Ä–µ–∫–ª–∞–º—ã, –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
# –£–º–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ Chrome
browser.open_chrome_smart(
    url="https://google.com",
    profile_name="Work"  # Vision –Ω–∞–π–¥—ë—Ç –ø—Ä–æ—Ñ–∏–ª—å!
)

# –í–Ω—É—Ç—Ä–∏: Vision –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è
# ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –ö–ª–∏–∫–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ

# –£–º–Ω—ã–π –ø–æ–∏—Å–∫ Google
browser.google_search_smart(query="Python tutorials")
# ‚Üí Vision –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
# ‚Üí –ö–ª–∏–∫–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ
# ‚Üí –ü–µ—á–∞—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç
# ‚Üí Vision –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

# –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
browser.navigate_to_url("https://example.com")
# ‚Üí Vision –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
# ‚Üí –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É/–ø–æ–ø–∞–ø—ã
# ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∏—Ö
```

**–†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã V1:**

- ‚úÖ –í–∏–¥–∏—Ç –¥–∏–∞–ª–æ–≥–∏ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è Chrome
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π —á–µ—Ä–µ–∑ Vision
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞

---

### 4Ô∏è‚É£ smart_desktop_agent.py - Vision-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏–º —Å—Ç–æ–ª–æ–º

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —á–µ—Ä–µ–∑ Vision

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
# –£–º–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
desktop.smart_open_application("Notepad")
# ‚Üí –°–∫—Ä–∏–Ω—à–æ—Ç –î–û
# ‚Üí Win+S ‚Üí –ü–æ–∏—Å–∫ ‚Üí Enter
# ‚Üí –°–∫—Ä–∏–Ω—à–æ—Ç –ü–û–°–õ–ï
# ‚Üí Vision –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: –æ—Ç–∫—Ä—ã–ª—Å—è –ª–∏ –ë–ª–æ–∫–Ω–æ—Ç?

# –£–º–Ω—ã–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
desktop.smart_type_text("Hello World")
# ‚Üí Vision –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫—Ä–∞–Ω: "–ì–¥–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ?"
# ‚Üí Vision –≥–æ–≤–æ—Ä–∏—Ç: "–¶–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞, —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –∞–∫—Ç–∏–≤–Ω–æ"
# ‚Üí –ö–ª–∏–∫–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ
# ‚Üí –ü–µ—á–∞—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç
# ‚Üí Vision –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: –ø–æ—è–≤–∏–ª—Å—è –ª–∏ —Ç–µ–∫—Å—Ç?

# –£–º–Ω—ã–π –∫–ª–∏–∫
desktop.smart_click("–ö–Ω–æ–ø–∫–∞ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å")
# ‚Üí Vision –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ
# ‚Üí –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
# ‚Üí –ö–ª–∏–∫–∞–µ—Ç
# ‚Üí Vision –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è

# –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏
situation = desktop.analyze_current_situation()
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π Vision-–∞–Ω–∞–ª–∏–∑ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞
```

**–†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã V1:**

- ‚úÖ –ù–ï –ø–µ—á–∞—Ç–∞–µ—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤–º–µ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- ‚úÖ Vision –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è

---

### 5Ô∏è‚É£ autonomous_desktop_v2.py - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π –∞–≥–µ–Ω—Ç, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–¶–∏–∫–ª intelligent_cycle():**

```python
async def intelligent_cycle(self):
    # 1. ANALYZE - Vision –∞–Ω–∞–ª–∏–∑ —ç–∫—Ä–∞–Ω–∞
    situation = await self.desktop.analyze_current_situation()
    
    # 2. CHOOSE - GPT-4o –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–¥–∞—á—É —Å —É—á—ë—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    task = self._choose_intelligent_task(situation)
    
    # 3. PLAN - –°–æ–∑–¥–∞—ë—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
    plan = self._create_intelligent_plan(task, situation)
    
    # 4. EXECUTE - –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–ª–∞–Ω —Å Vision –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
    for step in plan:
        # Vision –î–û –¥–µ–π—Å—Ç–≤–∏—è
        result = await self._execute_step(step)
        # Vision –ü–û–°–õ–ï –¥–µ–π—Å—Ç–≤–∏—è
        self.context.record_action(result)
        
        if self.actions_in_cycle >= self.max_actions_per_cycle:
            break  # –õ–∏–º–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    
    # 5. LEARN - –ò–∑–≤–ª–µ–∫–∞–µ—Ç —É—Ä–æ–∫–∏
    lessons = self._analyze_and_learn()
    
    # –ü–∞—É–∑–∞ 60 —Å–µ–∫—É–Ω–¥
    await asyncio.sleep(60)
```

**–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

```python
# –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è
max_actions_per_cycle = 10  # –ù–µ –±–æ–ª—å—à–µ 10 –¥–µ–π—Å—Ç–≤–∏–π –∑–∞ —Ü–∏–∫–ª

# Emergency stop
pyautogui.FAILSAFE = True  # –ö—É—Ä—Å–æ—Ä –≤ —É–≥–æ–ª = STOP

# –û–±—Ä–∞–±–æ—Ç–∫–∞ Ctrl+C
try:
    await intelligent_cycle()
except KeyboardInterrupt:
    print("üõë –ê–≥–µ–Ω—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")

---

```

---

## üëÅÔ∏è –ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç Vision

### –ü—Ä–æ—Ü–µ—Å—Å Vision-–∞–Ω–∞–ª–∏–∑–∞

1. **–ó–∞—Ö–≤–∞—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç–∞**

```python
screenshot_path = f"vision_{timestamp}.png"
pyautogui.screenshot(screenshot_path)
```

2. **–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ base64**

```python
with open(screenshot_path, "rb") as f:
    base64_image = base64.b64encode(f.read()).decode('utf-8')
```

3. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GPT-4 Vision**

```python
response = openai.chat.completions.create(
    model="gpt-4-turbo",
    messages=[{
        "role": "user",
        "content": [
            {"type": "text", "text": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç–∫—Ä–∞–Ω..."},
            {"type": "image_url", "image_url": {
                "url": f"data:image/png;base64,{base64_image}",
                "detail": "high"  # –í—ã—Å–æ–∫–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è
            }}
        ]
    }],
    temperature=0.5
)
```

4. **–ü–∞—Ä—Å–∏–Ω–≥ JSON-–æ—Ç–≤–µ—Ç–∞**

```python
vision_result = json.loads(response.choices[0].message.content)
{
    "scene_description": "–û—Ç–∫—Ä—ã—Ç —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª Windows...",
    "detected_elements": [
        {"type": "window", "label": "Chrome", "location": "center"},
        {"type": "button", "label": "Profile 1", "location": "top-left"}
    ],
    "ui_state": {
        "active_application": "Chrome",
        "possible_actions": ["click_profile", "close_window"]
    },
    "recommendations": "–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å 'Work' –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É"
}
```

### –ü—Ä–∏–º–µ—Ä—ã Vision-–∞–Ω–∞–ª–∏–∑–∞

**–ü—Ä–∏–º–µ—Ä 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è Chrome**

```text
üì∏ Screenshot captured
üß† Vision Analysis:
   Scene: "Chrome profile selection dialog with 3 profiles visible"
   Elements: 
     - Button "Work Profile" (top-left)
     - Button "Personal" (top-center)  
     - Button "Guest" (top-right)
   Recommendation: "Click on 'Work Profile' button"
```

**–ü—Ä–∏–º–µ—Ä 2: –ü–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è**

```text
üì∏ Screenshot captured
üß† Vision Analysis:
   Scene: "Notepad window is open with blank document"
   Elements:
     - TextArea "Main text field" (center, large white area)
     - Menu "File" (top-left)
   Active Element: "Text field is focused and ready for input"
```

**–ü—Ä–∏–º–µ—Ä 3: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã**

```text
üì∏ Screenshot captured  
üß† Vision Analysis:
   Problems Detected: YES
   Problem Types: ["ads", "popup"]
   Description: "Advertisement banner at top of page with close button"
   Recommendation: "Click X button in top-right corner of ad"
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ó–∞—â–∏—Ç–∞

### –°–∏—Å—Ç–µ–º–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ó–∞—â–∏—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|--------|----------|------------|
| **FAILSAFE** | –ö—É—Ä—Å–æ—Ä –≤ —É–≥–æ–ª ‚Üí STOP | `pyautogui.FAILSAFE = True` |
| **–õ–∏–º–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π** | –ú–∞–∫—Å 10 –¥–µ–π—Å—Ç–≤–∏–π –∑–∞ —Ü–∏–∫–ª | `max_actions_per_cycle = 10` |
| **–ü–∞—É–∑–∞ –º–µ–∂–¥—É —Ü–∏–∫–ª–∞–º–∏** | 60 —Å–µ–∫—É–Ω–¥ –æ—Ç–¥—ã—Ö–∞ | `await asyncio.sleep(60)` |
| **Ctrl+C –æ–±—Ä–∞–±–æ—Ç–∫–∞** | Graceful shutdown | `except KeyboardInterrupt` |
| **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** | –û–¥–∏–Ω —Ü–∏–∫–ª –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ | `test_one_cycle.py` |
| **Vision –ø—Ä–æ–≤–µ—Ä–∫–∞** | –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ | Before + After screenshots |

### –ö–∞–∫ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ê–≥–µ–Ω—Ç–∞

**–ú–µ—Ç–æ–¥ 1: FAILSAFE (–ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞)**

```text
–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –≤ –õ–ï–í–´–ô –í–ï–†–•–ù–ò–ô –£–ì–û–õ —ç–∫—Ä–∞–Ω–∞
‚Üí pyautogui –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚Üí –ê–≥–µ–Ω—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
```

**–ú–µ—Ç–æ–¥ 2: Ctrl+C**

```text
–ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
‚Üí KeyboardInterrupt –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω
‚Üí Graceful shutdown —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

**–ú–µ—Ç–æ–¥ 3: –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞**

```text
–ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ PowerShell/CMD
‚Üí –ü—Ä–æ—Ü–µ—Å—Å Python –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç –ü—Ä–æ–±–ª–µ–º V1

| –ü—Ä–æ–±–ª–µ–º–∞ V1 | –ó–∞—â–∏—Ç–∞ V2 |
|-------------|-----------|
| 6 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Üí –∫—Ä–∞—à | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (1 —Ü–∏–∫–ª) |
| –ü–µ—á–∞—Ç–∞–ª –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ | Vision –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–µ |
| –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª | –õ–∏–º–∏—Ç 10 –¥–µ–π—Å—Ç–≤–∏–π + –ø–∞—É–∑–∞ 60 —Å–µ–∫ |
| –ù–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ | Vision –∞–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º |
| –ù–µ –≤–∏–¥–µ–ª –ø—Ä–æ—Ñ–∏–ª–∏ Chrome | Vision –¥–µ—Ç–µ–∫—Ç–∏—Ç –¥–∏–∞–ª–æ–≥–∏ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```text
- Windows 10/11
- Python 3.13+
- OpenAI API Key (—Å –¥–æ—Å—Ç—É–ø–æ–º –∫ GPT-4 Vision)
- Google Chrome —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```powershell
cd F:\Mirai\mirai-agent

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
.\venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install openai pillow pyautogui
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API Key

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `configs/api_keys.json`:

```json
{
    "openai_api_key": "sk-your-openai-api-key-here"
}
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤—ã–π –ó–∞–ø—É—Å–∫ (–ë–ï–ó–û–ü–ê–°–ù–û)

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –û–î–ò–ù —Ü–∏–∫–ª (–¥–ª—è —Ç–µ—Å—Ç–∞)
python test_one_cycle.py
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**

1. –ê–≥–µ–Ω—Ç —Å–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞
2. GPT-4 Vision –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é
3. GPT-4o –≤—ã–±–µ—Ä–µ—Ç –∑–∞–¥–∞—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–æ—Ç–∫—Ä—ã—Ç—å Chrome")
4. –°–æ–∑–¥–∞—Å—Ç –ø–ª–∞–Ω
5. –í—ã–ø–æ–ª–Ω–∏—Ç –ø–ª–∞–Ω —Å Vision-–ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
6. –ü–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
7. **–û–°–¢–ê–ù–û–í–ò–¢–°–Ø** (–Ω–µ –±—É–¥–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å)

### –®–∞–≥ 5: –ü–æ–ª–Ω—ã–π –ó–∞–ø—É—Å–∫ (24/7 —Ä–µ–∂–∏–º)

**–í–ù–ò–ú–ê–ù–ò–ï:** –ü–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ!

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–µ–∂–∏–º
python autonomous_desktop_v2.py
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ BAT —Ñ–∞–π–ª:**

```powershell
.\START_INTELLIGENT_MIRAI.bat
```

---

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –†–µ–∂–∏–º 1: –¢–µ—Å—Ç–æ–≤—ã–π (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)

```powershell
python test_one_cycle.py

### 5-Minute Setup

```bash
# 1. Clone repository
git clone https://github.com/AgeeKey/Mirai.git
cd Mirai

# 2. Set API key
export OPENAI_API_KEY="sk-..."

# 3. Run health check
./scripts/healthcheck.sh

# 4. Launch MIRAI
python3 mirai.py --mode terminal
```

### Available Modes

```bash
# Interactive terminal (KAIZEN)
python3 mirai.py --mode terminal

# Web dashboard
python3 mirai.py --mode dashboard

# Background autonomous mode
python3 mirai.py --mode autonomous

# Ask MIRAI a question
python3 mirai.py --mode ask --query "What are your capabilities?"

# Display version
python3 mirai.py --version

# Run health check
python3 mirai.py --health
```

---

## üì¶ Installation

### Prerequisites

- **Python 3.10+** (tested on 3.12.3)
- **OpenAI API Key**
- **Git**
- **10GB+ disk space**

### Step 1: Install System Dependencies

**Ubuntu/Debian:**
```bash
sudo apt update
sudo apt install -y python3 python3-pip python3-venv git
```

**macOS:**
```bash
brew install python@3.12 git
```

### Step 2: Clone Repository

```bash
git clone https://github.com/AgeeKey/Mirai.git
cd Mirai
```

### Step 3: Create Virtual Environment

```bash
cd mirai-agent
python3 -m venv venv
source venv/bin/activate  # Linux/macOS
# venv\Scripts\activate   # Windows
```

### Step 4: Install Python Dependencies

```bash
pip install -r requirements.txt
```

**Key packages:**
- `openai>=1.0.0` - OpenAI API client
- `pyyaml>=6.0` - Configuration parsing
- `rich>=13.0.0` - Terminal UI
- `flask>=3.0.0` - Web dashboard
- `prometheus-client>=0.19.0` - Metrics

### Step 5: Configure API Key

**Option 1: Environment Variable (Recommended)**
```bash
export OPENAI_API_KEY="sk-..."

# Make persistent
echo 'export OPENAI_API_KEY="sk-..."' >> ~/.bashrc
```

**Option 2: Config File**
```bash
# Create/edit configs/api_keys.json
{
    "openai_api_key": "sk-..."
}
```

### Step 6: Verify Installation

```bash
# Run health check
cd /path/to/Mirai
./scripts/healthcheck.sh

# Should show:
# ‚úÖ Python 3.12.3
# ‚úÖ MIRAI Installation Found
# ‚úÖ API Key Set (env)
# ‚úÖ Config v2.0.0
# ‚úÖ Memory DB Initialized
# ‚úÖ Logger Ready
# ‚úÖ Core Modules All importable
# ‚úÖ Dependencies All installed
# ‚úÖ Disk Space Available
#
# üéâ All systems operational!
```

---

## ‚öôÔ∏è Configuration

### Configuration File

MIRAI uses a unified YAML configuration file: `configs/mirai.yaml`

**Structure:**
```yaml
version: "2.0.0"

openai:
  models:
    default: "gpt-4o-mini"
    heavy: "gpt-4o"
    fast: "gpt-3.5-turbo"
    embeddings: "text-embedding-3-large"
  
  temperature: 0.3
  max_tokens: 4000
  timeout: 60

memory:
  backend: "sqlite"
  database_path: "data/mirai_memory.db"
  retention_days: 90
  short_term_messages: 12

logging:
  level: "INFO"
  format: "json"
  rotation:
    max_bytes: 10485760  # 10MB
    backup_count: 5
```

### Environment Variables

```bash
# Required
export OPENAI_API_KEY="sk-..."

# Optional
export MIRAI_CONFIG_PATH="/custom/path/to/mirai.yaml"
export MIRAI_LOG_LEVEL="DEBUG"
export MIRAI_DATA_DIR="/custom/data/path"
```

### Loading Configuration

```python
from core.config_loader import get_config

# Get full config
config = get_config()

# Access with dot notation
print(config.openai.models.default)  # "gpt-4o-mini"
print(config.memory.retention_days)  # 90

# Get API key
from core.config_loader import get_api_key
api_key = get_api_key()

# Get specific model config
from core.config_loader import get_openai_model_config
model_config = get_openai_model_config("heavy")
print(model_config.model)  # "gpt-4o"
```

---

## üíª Usage

### 1. Terminal Mode (Interactive)

```bash
python3 mirai.py --mode terminal
```

**Available Commands:**
```
help              Show available commands
status            Show system status
memory            Show memory statistics
ask <question>    Ask KAIZEN a question
analyze <topic>   Analyze code/project
improve <file>    Get improvement suggestions
task <action>     Manage tasks (list/add/complete)
health            Run health check
clear             Clear screen
exit              Exit terminal
```

**Example Session:**
```
ü§ñ KAIZEN Terminal v2.0.0

kaizen> ask What are your capabilities?
ü§ñ KAIZEN: I can help with:
- Code analysis and improvement
- Task management
- GitHub integration
- Multi-language execution
- Memory and learning
[...]

kaizen> memory
üìä Memory Statistics:
- Total sessions: 5
- Messages stored: 142
- Preferences: 8
- Tasks: 3 active
- Knowledge entries: 27

kaizen> exit
```

### 2. Dashboard Mode (Web UI)

```bash
python3 mirai.py --mode dashboard
```

Then open: `http://localhost:5000`

**Dashboard Features:**
- Real-time system health
- Memory statistics
- Recent sessions
- Task list
- Prometheus metrics at `/metrics`
- Health API at `/api/health`

### 3. Autonomous Mode (Background)

```bash
# Start autonomous service
python3 mirai.py --mode autonomous

# Or use systemd
sudo systemctl start mirai
```

**What it does:**
- Monitors GitHub CI/CD
- Analyzes code quality
- Proposes improvements
- Learns from feedback
- Logs to `/tmp/kaizen_mirai.log`

### 4. Ask Mode (One-off Query)

```bash
python3 mirai.py --mode ask --query "Analyze the memory manager code"
```

**Output:**
```
üå∏ MIRAI Analysis:

The memory manager implementation is well-structured with:
‚úÖ Type-safe dataclasses
‚úÖ Proper indexing on sessions
‚úÖ RAG-ready embeddings
‚ö†Ô∏è Consider adding connection pooling
‚ö†Ô∏è Add cleanup job for old sessions
[...]
```

---

## üè• Health Monitoring

### Health Check Script

**Location:** `scripts/healthcheck.sh`

**Run health check:**
```bash
./scripts/healthcheck.sh
```

**Output:**
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  MIRAI Health Check                                                 ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

  ‚úÖ Python                    3.12.3
  ‚úÖ MIRAI Installation        Found
  ‚úÖ API Key                   Set (env)
  ‚úÖ Config                    v2.0.0
  ‚úÖ Memory DB                 Initialized (32K)
  ‚úÖ Logger                    Ready
  ‚úÖ Core Modules              All importable
  ‚úÖ Dependencies              All installed
  ‚úÖ Disk Space                34G available

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Summary: 9/9 checks passed

üéâ All systems operational!
```

### Output Formats

**JSON (for monitoring tools):**
```bash
./scripts/healthcheck.sh --json
```

```json
{
    "status": "healthy",
    "timestamp": "2025-10-14T13:20:29+00:00",
    "total_checks": 9,
    "passed_checks": 9,
    "failed_checks": 0,
    "checks": [...]
}
```

**Quiet (for automation):**
```bash
./scripts/healthcheck.sh --quiet
echo $?  # 0 = healthy, 1 = unhealthy
```

### Integration Examples

**Systemd:**
```ini
[Service]
ExecStartPre=/root/mirai/scripts/healthcheck.sh --quiet
ExecStart=/root/mirai/mirai.py --mode autonomous
```

**Cron:**
```bash
*/5 * * * * /root/mirai/scripts/healthcheck.sh --json > /tmp/mirai_health.json
```

**Docker:**
```dockerfile
HEALTHCHECK --interval=30s CMD /scripts/healthcheck.sh --quiet || exit 1
```

---

## üìä Dashboard

### Starting the Dashboard

```bash
python3 mirai.py --mode dashboard
```

**Access:** http://localhost:5000

### Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/` | GET | Main dashboard |
| `/api/health` | GET | Health status (JSON) |
| `/api/memory/stats` | GET | Memory statistics |
| `/api/sessions` | GET | Recent sessions |
| `/api/tasks` | GET | Active tasks |
| `/metrics` | GET | Prometheus metrics |

### API Examples

**Health Check:**
```bash
curl http://localhost:5000/api/health | jq
```

**Memory Stats:**
```bash
curl http://localhost:5000/api/memory/stats | jq
```

**Prometheus Metrics:**
```bash
curl http://localhost:5000/metrics
```

---

## üß† Memory System

### Overview

MIRAI uses a SQLite-based memory system with 5 tables:
- **sessions** - Conversation sessions
- **messages** - All messages (user + AI)
- **user_preferences** - Learned preferences
- **tasks** - Task tracking
- **knowledge** - RAG knowledge base

### Usage

```python
from core.memory_manager import MemoryManager

# Initialize
mm = MemoryManager()

# Create session
session_id = mm.create_session(user_id="user123")

# Add message
mm.add_message(
    session_id=session_id,
    role="user",
    content="Hello MIRAI",
    tokens_used=5
)

# Get recent messages
messages = mm.get_recent_messages(session_id, limit=10)

# Set preference
mm.set_user_preference(
    user_id="user123",
    preference_key="language",
    preference_value="Python"
)

# Get preferences
prefs = mm.get_user_preferences("user123")

# Add task
task_id = mm.add_task(
    session_id=session_id,
    description="Implement health check",
    status="completed"
)

# Add knowledge
mm.add_knowledge(
    session_id=session_id,
    topic="Health Monitoring",
    content="Health checks validate system components",
    embedding=[0.1, 0.2, ...]  # Optional vector
)
```

### Memory Statistics

```python
# Get stats
stats = mm.get_memory_stats()

print(stats)
# {
#     'total_sessions': 5,
#     'total_messages': 142,
#     'total_preferences': 8,
#     'total_tasks': 12,
#     'total_knowledge': 27
# }
```

---

## üìù Logging

### Overview

MIRAI uses structured JSON logging with rotation and custom fields.

### Usage

```python
from core.logger import MiraiLogger

# Initialize
logger = MiraiLogger(name="my_module")

# Basic logging
logger.info("System started")
logger.warning("High memory usage", extra={"memory_mb": 512})
logger.error("API call failed", extra={"error_code": 500})

# Operation context (auto-timing)
with logger.operation("database_query"):
    result = db.query()

# AI call logging (auto-timing + token tracking)
with logger.ai_call(model="gpt-4o", prompt="Hello"):
    response = client.chat.completions.create(...)

# MIRAI-specific methods
logger.log_ai_request(
    model="gpt-4o-mini",
    prompt="Analyze code",
    temperature=0.3
)

logger.log_ai_response(
    model="gpt-4o-mini",
    response="Analysis complete",
    tokens_used=150,
    latency_ms=1200
)

logger.log_task(
    task_id="task_123",
    action="started",
    description="Health check implementation"
)
```

### Log Format

**JSON (rotating file):**
```json
{
    "timestamp": "2025-10-14T13:20:29.123Z",
    "level": "INFO",
    "logger": "core.memory_manager",
    "message": "Session created",
    "session_id": "sess_abc123",
    "user_id": "user456",
    "model": "gpt-4o-mini",
    "tokens": 150,
    "latency_ms": 1200
}
```

**Console (colored):**
```
2025-10-14 13:20:29 INFO  [core.memory_manager] Session created
```

### Log Location

- **Service logs:** `/tmp/kaizen_mirai.log`
- **Metrics:** `/tmp/kaizen_mirai_metrics.jsonl`
- **Rotation:** 10MB max, 5 backups

---

## üõ†Ô∏è Development

### Project Structure

```
mirai/
‚îú‚îÄ‚îÄ mirai.py                 # Unified entry point
‚îú‚îÄ‚îÄ configs/
‚îÇ   ‚îú‚îÄ‚îÄ mirai.yaml          # Main configuration
‚îÇ   ‚îî‚îÄ‚îÄ api_keys.json       # API keys (git-ignored)
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py    # Configuration management
‚îÇ   ‚îú‚îÄ‚îÄ memory_manager.py   # Memory system
‚îÇ   ‚îî‚îÄ‚îÄ logger.py           # Logging system
‚îú‚îÄ‚îÄ mirai-agent/
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ autonomous_agent.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ github_integration.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database_manager.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ multi_language_executor.py
‚îÇ   ‚îú‚îÄ‚îÄ kaizen_terminal.py  # Terminal UI
‚îÇ   ‚îú‚îÄ‚îÄ dashboard_server.py # Web dashboard
‚îÇ   ‚îî‚îÄ‚îÄ autonomous_service.py
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ healthcheck.sh      # Health monitoring
‚îú‚îÄ‚îÄ data/                   # SQLite databases
‚îú‚îÄ‚îÄ tests/                  # Unit tests
‚îî‚îÄ‚îÄ docs/                   # Documentation
```

### Coding Standards

**Python Style:**
- PEP 8 compliance
- Type hints for all functions
- Docstrings (Google style)
- Async/await for I/O

**Example:**
```python
from typing import Dict, Optional
from dataclasses import dataclass

@dataclass
class Config:
    """Configuration for MIRAI component."""
    name: str
    enabled: bool
    timeout: int = 30

async def process_request(
    user_id: str,
    query: str,
    model: str = "gpt-4o-mini"
) -> Dict[str, any]:
    """
    Process user request with AI.
    
    Args:
        user_id: Unique user identifier
        query: User's question
        model: OpenAI model to use
        
    Returns:
        Response dictionary with answer and metadata
    """
    # Implementation
    pass
```

### Adding New Features

**1. Create feature branch:**
```bash
git checkout -b feature/my-feature
```

**2. Implement with tests:**
```python
# my_feature.py
def my_function(arg: str) -> str:
    """My new feature."""
    return arg.upper()

# tests/test_my_feature.py
def test_my_function():
    assert my_function("hello") == "HELLO"
```

**3. Run tests:**
```bash
pytest tests/
```

**4. Update documentation:**
```bash
# Update README.md or docs/
```

**5. Submit PR:**
```bash
git add .
git commit -m "feat: add my feature"
git push origin feature/my-feature
```

---

## üß™ Testing

### Running Tests

**All tests:**
```bash
cd mirai-agent
source venv/bin/activate
pytest tests/ -v
```

**Specific test file:**
```bash
pytest tests/test_memory_manager.py -v
```

**With coverage:**
```bash
pytest tests/ --cov=core --cov-report=html
```

### Test Structure

```
tests/
‚îú‚îÄ‚îÄ test_config_loader.py      # Config tests
‚îú‚îÄ‚îÄ test_memory_manager.py     # Memory tests
‚îú‚îÄ‚îÄ test_logger.py             # Logger tests
‚îú‚îÄ‚îÄ test_health_check.py       # Health check tests
‚îî‚îÄ‚îÄ integration/
    ‚îî‚îÄ‚îÄ test_full_workflow.py  # Integration tests
```

### Writing Tests

```python
import pytest
from core.memory_manager import MemoryManager

def test_create_session():
    """Test session creation."""
    mm = MemoryManager(db_path=":memory:")
    session_id = mm.create_session(user_id="test_user")
    
    assert session_id is not None
    assert session_id.startswith("sess_")

def test_add_message():
    """Test adding message."""
    mm = MemoryManager(db_path=":memory:")
    session_id = mm.create_session(user_id="test_user")
    
    mm.add_message(
        session_id=session_id,
        role="user",
        content="Test message",
        tokens_used=5
    )
    
    messages = mm.get_recent_messages(session_id)
    assert len(messages) == 1
    assert messages[0].content == "Test message"
```

---

## üìö Documentation

### Phase 0: Vision & Planning Documents

üìÇ **[docs/](./docs/)** - Comprehensive Phase 0 documentation (85 pages, ~49k words)

| Document | Description | Pages |
|----------|-------------|-------|
| **[docs/README.md](./docs/README.md)** | Documentation index and navigation | 11 |
| **[docs/VISION_AND_SCOPE.md](./docs/VISION_AND_SCOPE.md)** | Project vision, scope, goals, constraints | 6 |
| **[docs/USE_CASES.md](./docs/USE_CASES.md)** | 20 prioritized use cases (P0/P1/P2) | 12 |
| **[docs/ARCHITECTURE.md](./docs/ARCHITECTURE.md)** | Logical system architecture | 14 |
| **[docs/DEVELOPMENT_ROADMAP.md](./docs/DEVELOPMENT_ROADMAP.md)** | 5-phase development plan (9-16 months) | 18 |
| **[docs/RISK_MATRIX.md](./docs/RISK_MATRIX.md)** | Risk assessment & mitigation (12 risks) | 11 |
| **[docs/HIRING_PLAN.md](./docs/HIRING_PLAN.md)** | Team structure & hiring (10‚Üí100 people) | 13 |
| **[docs/POC_GUIDE.md](./docs/POC_GUIDE.md)** | Technical PoC implementation guide | 11 |

üëâ **Start here:** [docs/README.md](./docs/README.md) for navigation by role

### Implementation Documentation

| Document | Description |
|----------|-------------|
| `README.md` | Main documentation (this file) |
| `MASTER_PLAN.md` | 4-phase development roadmap |
| `PHASE1_WEEK1_PRIORITY*_COMPLETED.md` | Implementation reports |
| `MIRAI_ARCHITECTURE_EXPLAINED.md` | Architecture deep-dive |
| `COPILOT_GUIDE.md` | GitHub Copilot instructions |
| `.github/copilot-instructions.md` | AI coding standards |

### Architecture Documents

- **MIRAI_ARCHITECTURE_EXPLAINED.md** - System architecture
- **NASA_LEVEL_ARCHITECTURE_PLAN.md** - Advanced features
- **MIRAI_CAPABILITIES.txt** - Full capability list
- **docs/ARCHITECTURE.md** - Logical architecture (Phase 0)

### API Documentation

Generate API docs:
```bash
cd mirai-agent
pdoc --html core/ --output-dir docs/api
```

View at: `docs/api/index.html`

---

## ü§ù Contributing

We welcome contributions! Here's how:

### 1. Fork Repository

```bash
git clone https://github.com/YOUR_USERNAME/Mirai.git
cd Mirai
```

### 2. Create Feature Branch

```bash
git checkout -b feature/amazing-feature
```

### 3. Make Changes

- Follow coding standards
- Add tests
- Update documentation

### 4. Run Tests

```bash
pytest tests/
./scripts/healthcheck.sh
```

### 5. Commit Changes

```bash
git add .
git commit -m "feat: add amazing feature"
```

**Commit message format:**
- `feat:` New feature
- `fix:` Bug fix
- `docs:` Documentation
- `test:` Tests
- `refactor:` Code refactoring

### 6. Push and Create PR

```bash
git push origin feature/amazing-feature
```

Then open Pull Request on GitHub.

### Code Review Process

1. Automated tests run on PR
2. Code review by maintainers
3. Required: All tests pass
4. Required: Documentation updated
5. Merge when approved

---

## üìÑ License

MIT License - see [LICENSE](LICENSE) file for details.

---

## üôè Acknowledgments

- **OpenAI** - GPT-4o and API
- **Rich** - Beautiful terminal UI
- **Flask** - Web framework
- **SQLite** - Embedded database

---

## üìû Support

- **Issues:** [GitHub Issues](https://github.com/AgeeKey/Mirai/issues)
- **Discussions:** [GitHub Discussions](https://github.com/AgeeKey/Mirai/discussions)
- **Email:** support@mirai-ai.dev

---

## üó∫Ô∏è Roadmap

### ‚úÖ Phase 1: Foundation (Weeks 1-2)
- [x] Unified entry point
- [x] Configuration system
- [x] Memory manager
- [x] Structured logging
- [x] Health monitoring
- [ ] README documentation (in progress)
- [ ] Systemd integration
- [ ] CI/CD pipeline

### üîÑ Phase 2: Intelligence (Weeks 3-4)
- [ ] Cognitive loop (analyze ‚Üí plan ‚Üí execute ‚Üí reflect)
- [ ] Ethical filter
- [ ] Self-registry
- [ ] Advanced RAG
- [ ] Multi-model orchestration

### üéØ Phase 3: Trading (Months 2-3)
- [ ] Market data integration
- [ ] Strategy backtesting
- [ ] Risk management
- [ ] Paper trading
- [ ] Live trading (careful!)

### üöÄ Phase 4: Evolution (Month 3+)
- [ ] Self-improvement loop
- [ ] Code generation
- [ ] Automated testing
- [ ] Performance optimization
- [ ] Multi-agent collaboration

---

## üìä Status

**Version:** 2.0.0  
**Status:** Active Development  
**Last Updated:** October 14, 2025

**Progress:**
- Phase 1: 80% (4/5 priorities complete)
- Phase 2: 0%
- Phase 3: 0%
- Phase 4: 0%

---

**Built with ü§ñ KAIZEN and üå∏ MIRAI**